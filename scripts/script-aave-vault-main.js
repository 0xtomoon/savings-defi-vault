const { ethers } = require('hardhat');

async function main() {
  const [ owner ] = await ethers.getSigners();
  
  const vault = '0xf6ec3035c4fc1AB7f653bE5cEB24e22ec8b69285';
  const dusd = '0xF0B5cEeFc89684889e5F7e0A7775Bd100FcD3709';
  const paraswapData = "0xa94e78ef0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000f0b5ceefc89684889e5f7e0a7775bd100fcd37090000000000000000000000000000000000000000000000000000000000002710000000000000000000000000000000000000000000000000002213362d65194000000000000000000000000000000000000000000000000000226b532b4480f0000000000000000000000000f6ec3035c4fc1ab7f653be5ceb24e22ec8b692850000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000900000000000000000000000000000000000000000000000000000000006320d713db689ef801f448e380cc231e15d53c5100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000540000000000000000000000000da10009cbd5d07dd0cecc66161fc93d7c9000da100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000006295cd918b48e1d2a96cbae2fc70b29623c593c2000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000005000000000000000000000000ba12222222228d8ba445958a75a0704d566bf2c8000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000def171fe48cf0115b1d80b88dc8eab59176fee570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000def171fe48cf0115b1d80b88dc8eab59176fee5700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000260ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020d89746affa5483627a87e55713ec1905114394950002000000000000000000bf00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000f0b5ceefc89684889e5f7e0a7775bd100fcd3709000000000000000000000000da10009cbd5d07dd0cecc66161fc93d7c9000da100000000000000000000000000000000000000000000000000000000000000027fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000082e64f49ed5ec1bc6e43dad4fc8af9bb3a2312ee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000006295cd918b48e1d2a96cbae2fc70b29623c593c200000000000000000000000000000000000000000000000000000000000027100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000082e64f49ed5ec1bc6e43dad4fc8af9bb3a2312ee0000000000000000000000000000000000000000000000000000000000000000";

  const dusdContract = await ethers.getContractAt("MockERC20", dusd);
  await dusdContract.approve(vault, "10000");

  const vaultContract = await ethers.getContractAt("AaveVault", vault);
  await vaultContract.deposit(dusd, "10000", paraswapData);
  const balance = await vaultContract.userBalance(owner.address);
  console.log(balance);
}

main()
  .then(() => process.exit(0))
  .catch(error => {
    console.error(error);
    process.exit(1);
  });